# Install transformers from source - only needed for versions <= v4.34
# pip install git+https://github.com/huggingface/transformers.git
# pip install accelerate

import torch
from transformers import pipeline

pipe = pipeline("text-generation", model="HuggingFaceH4/zephyr-7b-beta", torch_dtype=torch.bfloat16, device_map="auto")

# long_text = "Hey guys I'm Thomas and in this video I show you how to play the wonderful song Golden Hour by Jake. You will learn to play the full song, the original intro and the entire song and this is special even if you're an absolute beginner because at the very beginning I will play the full song for you and after that we go through the entire song step by step in tiny steps that everyone can do. And if you like my teaching style and also want to learn more about how to play the piano, I highly recommend that you get my free piano crash course. The link is down in the description. It's a free piano course. It's fun. Most of my subscribers are there. You should definitely check this out. So post the video real quick, get the free piano course, and then let's start with this tutorial. OK, let me show you what you will learn in this tutorial now. you you you you Okay, great. So let's start with the first practice part. So first of all, here's my middle C. That's the middle of my piano. So, but what we do now, we go with our bench or with our chair a little to the right. So, because we need to play here very high, and we need to play exactly here. So, we place our thumb on the F sharp. F sharp is when you have the group of three notes here. We go to the left note, and this is what our thumb plays. The next note is G sharp. That's the next black key on the right. Now the ring finger B, that's the white key here. And the pinky finger plays C sharp. That's the black key on the left one from the group of two. So here's the thing. You see in so many piano tutorials, okay, now you play this. But you know what There's a big challenge. Ring finger and pinky finger are weak fingers. And the chances are very high that they are standing up like this at the beginning. It's totally normal. So what we need to do now is play thumb, pointer finger, ring finger. Ah, that's a challenge. And pinky finger and take all the time in the world you need Then go back ring finger, pointer finger and thumb. So take your time now, pause the video and repeat this at least 20 times. I'm serious. It sounds like a lot, but it only takes a few minutes. And that's a great exercise for the weak fingers because you need to train your weak fingers so they become strong and that you will be able to play this later. And you will manage this, but take your time. Thumb. pointer ring finger pinky finger ring finger pointer thumb and with up again up point a finger ring finger pinky finger ring finger pointer finger pointer again and again take your time and it's totally fine if you do this very slow now the magic in your brain still happens because It doesn't matter how fast you repeat this. As long as you repeat this again and again, your brain will learn this. That's great. So it's totally fine when it's slow. I started exactly the same. Every piano player started exactly the same, very slow. Okay, so that's practice part number one. Take all the time in the world. So again, I played a little faster. So we play it four times. So again, it's one, two, three, four. Okay, great. That's practice part number one. When this works well, we can go on to the second practice part. And all we do now is bring the thumb from the F sharp to the E here. That's the F sharp with F and this is E. So the good news is after you, when you repeated the first practice part, like at least 20 times, this will be now much easier. Relax the hand for a second and then thumb, pointer finger, ring finger, pinky, and down. And up. Pinky, pointer, ring finger, pointer. Thumb, pointer finger, ring finger, pinky finger, ring finger, pointer and thumb. So, this is now, we play this also four times. One. Two. Three. Four. OK, again, take all the time you need. Take all the time in the world. Yeah, this is I promise it's the fastest way to learn this when you when you start slow. So next step is we bring both parts together, both practice part, the first and the second. So this looks like this. One. Two. Three. Four. And now, Thumb E. One. Two. Three. Four. Okay, great. So here's the thing. You can try to play this as fast as possible now. Maybe it works like this. But this is already fast. And then the next practice part. Oh, this is really fast for beginners. So but the thing is, when you try this as fast as possible today, not too fast, only as fast as possible. It should be nice and clean. It's very important. Otherwise you will get problems later. Don't forget to relax your hand don't forget to relax your arm to shake it you can stand up Walk through your room to relax your arm because this can be also a challenge that you get a cramp or some pain at the beginning So very important if it's too much Take a break continue to do the next day because when you do this the next day, and you slept a night You had a night of sleep Your brain will process all you learn today and the next day it starts to get a little easier Yeah, everything gets a little smoother like every day a little smoother after every practice day Okay, great. So now we have two practice parts. Let's go to the next one and So all we do now is move these three fingers pointer ring finger and pinky finger to F sharp A and B So these are the notes F sharp is the left black key A is this white key and B this one So and we play exactly the same one two three four Okay, great, so this is practice part number three and now let's move to practice part number four and that's With the most challenging So we put the thumb on the D sharp that's the right from one from the group of two black keys The pointer goes to the E. That's a little difficult. So middle finger F sharp and ring finger G sharp. So it's so difficult because it's everything is suddenly so close together, especially this one here. Yeah. The thumb does not have enough space here. Usually the thumb is a very free finger, but not here. So, but everything stays the same thumb. pointer finger middle finger ring finger and back middle finger pointer and thumb So that's the fourth practice part and we play this also for four times one two three four Okay, so Take your time again repeat this at least 20 times the more the better and Try this as fast as possible, but not fast as possible. Very important. So then let's bring together the third and the fourth practice part together. So that's first this one. Two. Three. Four. And thumb goes on D sharp. I'm sorry. Find ring finger. Okay, so. Also when I say okay first the third practice part and the fourth and bring both together The reason why I say this is that we really have to put all the small steps. Yeah, this is really piano practicing like Because this transition Bum bum bum bum bum bum bum bum bum bum That's a challenge. Yeah, this can be a single practice part that you play E F sharp A B A F sharp and now thumb D sharp E B G sharp A and back Sorry D sharp E F sharp G Yeah, so here's the challenge. Yeah, even though I make the mistake now so this one Yeah, this transition is very challenging. Again, slow. Now thumb goes down, the other fingers move. Okay, so that's the third and fourth practice part. Now we need to bring all four practice parts together. And this looks like this. Two. Three. Four. And the second. Now E. So this transition is on the easier side. Two. Three. Four. Okay, the next one. thumb stays, but it's also on the easier side. Two, but not easy. Three. Four. And now Two. Three. Four. Okay, great. So when you can play this, you can be really, really proud because this is the original intro and the right hand. It's a great start. It's one of the biggest challenges for the entire song. And you can be really, really proud if you master this. So let's have a look at the left hand now. So the left hand plays the notes, A, that's the white key here, C sharp, the left one from the white keys, and E. So, but the left hand does not play them all at the same time, but pinky finger, middle finger, thumb, middle finger, thumb, middle finger, thumb. So we only have the pinky ones, and then we change between middle finger and thumb. Yeah Very important that you really sit on the right side of the piano and not here, because otherwise your hand is like this. So it should be as straight as possible. And then you play. And also, the left pinky finger is even weaker than the right pinky finger. So chances are high that it stays up like this. So we have to make the repetitions that It really can play like this so but you will make it repetition is key and The speed doesn't matter try as fast as possible, but not fast as possible."
long_text = "Now, we wondered if you wanted to come back for a party on the Friday or leave on the Friday before. Whatever. OK, well, again, thanks very much, David. Don't make me redundant. Please. Look, David... I don't... I've changed my mind. I don't want redundancy. I don't want that. I haven't signed anything, so... Well, David, unfortunately, it's not really up to you. No, OK, then. All right, then. Well, I'm asking, OK Please don't make it redundant. You can talk to someone, Jenny. The wheel's already in motion. No, we'll stop them, because... David, we're not going to discuss this now. No, but just say that it's not definite now, before you go, and we can... I will try twice hard. I really will. I've now been complacent. And I'll turn this place around if we just say that it's not definite now. And then we can... You're not going until... We're starting from now. Starting from now. Life is just a series of peaks and troughs. And you don't know whether you're in a trough until you're climbing out or on a peak until you're coming down. And that's it. You never know what's round the corner. But it's all good. If you want the rainbow, you've got to put up with the rain. Do you know which philosopher said that Dolly Parton. and people say she's just a big pair of tits."
# We use the tokenizer's chat template to format each message - see https://huggingface.co/docs/transformers/main/en/chat_templating
messages = [
    {
        "role": "system",
        "content": "You are a friendly chatbot who give summary concise for a text",
    },
    {"role": "user", "content": f"{long_text}"},
]
prompt = pipe.tokenizer.apply_chat_template(messages, tokenize=False, add_generation_prompt=True)
outputs = pipe(prompt, max_new_tokens=256, do_sample=True, temperature=0.7, top_k=50, top_p=0.95)
print(outputs[0]["generated_text"])